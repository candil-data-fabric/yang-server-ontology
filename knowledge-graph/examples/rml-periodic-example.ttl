
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix rml: <http://w3id.org/rml/> .
@prefix qudt: <http://qudt.org/2.1/schema/qudt#> .
@prefix ys: <https://w3id.org/yang/server#> .
@base <https://example.org/> .

# Basic details for connecting to NETCONF server
<server-1> a ys:NetconfServer, rml:Source ;
    ys:endpoint "192.168.1.10:830" ;
    ys:username "admin" ;
    ys:password "admin" ;
    ys:hostKeyVerification "false" ;

# In this example the NETCONF server is non-NMDA compatible.
# Thus, only operational and running datastores are available.
<datastores/server-1/operational> a ys:OperationalDatastore .
<datastores/server-1/running> a ys:RunningDatastore .

# Example 3-1: Map results from periodic subscription to
# output packet counter of interfaces
# Dynamic subscription is configured to push updated every 10 seconds
# TODO: XPath expression for counter
<sub-periodic> a ys:PeriodicSubscription ;
    ys:sourceServer <server-1> ;
    ys:sourceDatastore <datastores/server-1/operational> ;
    ys:period [
        a ys:Period ;
        qudt:numericValue "10" ;
        qudt:unit <https://qudt.org/2.1/vocab/unit/SEC>
    ];
.

# Example 3-2: Note that ys:Subscription is processed as part of the RML mapping
# rml:iterator replaces the ys:Filter in the YANG subscription
<#RML-periodic> a rml:LogicalSource;
    rml:source <server-1> ;
    rml:referenceFormulation rml:YANG_XPath;
    rml:iterator "/ietf-interfaces:interfaces-state/interface/statistics/out-octets" ;
    rml:namespace [
        a rml:Namespace ;
        rml:namespacePrefix "if" ;
        rml:namespaceURL "urn:ietf:params:xml:ns:yang:ietf-interfaces" ;
    ];
.
